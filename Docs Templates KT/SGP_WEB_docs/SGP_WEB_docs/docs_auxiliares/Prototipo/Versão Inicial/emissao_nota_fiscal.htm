<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>SGP WEB</title>
	<link rel="stylesheet" href="css/sgpweb.css">
	
	<script language="javascript">
		vetFCA  = new Array("São João Del Rei","Tiradentes").sort();
		vetEFVM = new Array("Vitória", "Governador Valadares", "Ipatinga", "Nova Era", "Itabira", "Costa Lacerda", "Belo Horizonte").sort();
		vetEFC  = new Array("Anjo da Guarda", "Arari", "Vitória do Mearim", "Santa Ines", "Alto Alegre", "Mineirinho", "Auzilandia", "Altamira", "Presa de Porco", "Nova Vida", "Açailandia", "São Pedro Água Branca", "Marabá").sort();
		vetFCA_UF  = new Array("MG – Minas Gerais").sort();
		vetEFVM_UF = new Array("ES – Espírito Santo","MG – Minas Gerais").sort();
		vetEFC_UF  = new Array("MA – Maranhão","PA – Pará").sort();
		
		vetClienteA  = new Array("Cliente","Cliente A", "Cliente B").sort();
		vetClienteB  = new Array("Cliente","Cliente D", "Cliente B" ).sort();
		vetClienteC  = new Array("Cliente","Cliente D", "Cliente A", "Cliente C").sort();

		function todosEstacao(sender){

			for(i=0;i<document.getElementsByName('chkEstacao').length;i++){
				document.getElementsByName('chkEstacao')[i].checked = sender.checked;
			}
		}

		function todosUf(sender){
			for(i=0;i<document.getElementsByName('chkUf').length;i++){
				document.getElementsByName('chkUf')[i].checked = sender.checked;
			}
		}

		function limparEstacoes(local){
			var NLinhas = document.getElementById(local).rows.length
			for(i=NLinhas-1; i >= 0 ; i--){

					document.getElementById(local).deleteRow(i);
			}	
		}

		
		
		function preencherEstacoes(vet, local){
			for(i=0;i < vet.length; i++){
				var tabela = document.getElementById(local);
				
				var linha  = tabela.insertRow(tabela.rows.length);

				var cell   = linha.insertCell()				
				cell.width = '1%';
				var obj    = document.createElement('input');
				obj.type   = 'checkbox';
				obj.name   = 'chkEstacao'
				obj.id     = 'chkEstacao'
				obj.onclick = function (){
											if (!this.checked){document.getElementById('td_estacao').checked = false}
										 }
				obj.checked =obj.defaultChecked= true;
				
				cell.appendChild(obj);

				var cell  = linha.insertCell()				
				var obj   = document.createTextNode(vet[i]);
				cell.appendChild(obj);
				
			}
		}


		function limparUfs(local){
			var NLinhas = document.getElementById(local).rows.length
			for(i=NLinhas-1; i >= 0 ; i--){

					document.getElementById(local).deleteRow(i);
			}	
		}

		function preencherUfs(vet, local){
			for(i=0;i < vet.length; i++){
				var tabela = document.getElementById(local);
				
				var linha = tabela.insertRow(tabela.rows.length);

				var cell  = linha.insertCell()				
				cell.width = '1%';
				var obj   = document.createElement('input');
				obj.type = 'checkbox';
				obj.name = 'chkUf'
				obj.id   = 'chkUf'
				obj.onclick = function (){
											if (!this.checked){document.getElementById('td_ufs').checked = false}
										 }				
				obj.checked =obj.defaultChecked= true;
				
				cell.appendChild(obj);

				var cell  = linha.insertCell()				
				var obj   = document.createTextNode(vet[i]);
				cell.appendChild(obj);
				
			}
		}
				
		function preencherCliente(vet){
			while (document.getElementById('cliente').length > 0){
				document.getElementById('cliente').remove(document.getElementById('cliente').length-1)
			}
			
			for (i=0;i<vet.length;i++){
				document.getElementById('cliente').options[i] = new Option(vet[i],vet[i]);
			}
		}
		
		function escolherEstacoes(sender, local){
			if (local == null){local = 0}
			switch (sender.value){
				case 'FCA'  : 
					preencherCliente(vetClienteA);
					limparEstacoes(local);
					preencherEstacoes(vetFCA,local);
					limparUfs('uf');
					preencherUfs(vetFCA_UF,'uf');
					break;
				case 'EFVM' : 
					preencherCliente(vetClienteB);				
					limparEstacoes(local);
					preencherEstacoes(vetEFVM,local);
					limparUfs('uf');
					preencherUfs(vetEFVM_UF,'uf');
					break;
				case 'EFC'  : 
					preencherCliente(vetClienteC);				
					limparEstacoes(local);		
					preencherEstacoes(vetEFC,local);
					limparUfs('uf');
					preencherUfs(vetEFC_UF,'uf');
					break;
			}
		}
		
		function escolherOrigem(sender){
			if ((sender.value == document.getElementById("destino").options[document.getElementById("destino").selectedIndex].value) && (sender.value != "")){
				escolherEstacoes(document.getElementById("ferrovia"),2);							
				document.getElementById("destino").selectedIndex = 0;				
			}
			else{
				var i = document.getElementById("destino").selectedIndex;
				escolherEstacoes(document.getElementById("ferrovia"),2);				
				document.getElementById("destino").remove(document.getElementById("origem").selectedIndex);
				document.getElementById("destino").selectedIndex = i;
			}
		}

		function selecionarIdaVolta(sender){
			if (!sender.checked){
				limparEstacoes(2)				
			}
			else{
				escolherEstacoes(document.getElementById("ferrovia"),2);
			}			
		}
		function consultar(param){
			document.getElementById("consulta").style.display = param;
			document.getElementById("comprar").style.display = param;
		}
		
		function exibeDetalhe(div){
			document.getElementById(div).style.left = tempX - 300;
			document.getElementById(div).style.top = tempY - 100;
			document.getElementById(div).style.display = 'inline';			
		}
		
		function ocultarDetalhe(div){
			document.getElementById(div).style.display = 'none';			
		}

		var tempX = 0
		var tempY = 0


		function getMouseXY(e) {
			  if (IE) { 
					tempX = event.clientX + document.body.scrollLeft
					tempY = event.clientY + document.body.scrollTop
			  } else {
					tempX = e.pageX
					tempY = e.pageY
			  }  
			  if (tempX < 0){tempX = 0}
			  if (tempY < 0){tempY = 0}  
			  return true
		}

		function cancelar(){
			if(confirm('Deseja realmente cancelar a venda?')){
				window.location = 'venda_bilhete_externo1.htm';
			}
		}
		
		
	</script>	
    <style type="text/css">
<!--
.style1 {font-size: 12px}
.style4 {font-size: 12}
.style5 {font-size: 9px}
#detalhe1 {	position:absolute;
	left:744px;
	top:205px;
	width:280px;
	height:100px;
	z-index:1;
}
#detalhe2 {	position:absolute;
	width:280px;
	height:115px;
	z-index:2;
	left: 810px;
	top: 193px;
}
.style6 {
	font-family: Arial, Verdana, Helvetica, sans-serif;
	font-weight: bold;
}
-->
    </style>
</head>

<body>

<script>
	var IE = document.all?true:false
	if (!IE) document.captureEvents(Event.MOUSEMOVE)
	document.onmousemove = getMouseXY;
</script>
<form name="form">
  <table width="60%" border="0" align="center" cellpadding="0" cellspacing="0">
	  <tr >
		<td align="left" valign="middle" colspan="3">&nbsp;</td>
	  </tr>   
      <tr>
      <td width="73%" height="30" align="left" valign="middle" class="linhaHeader"><div align="left" class="style1"><u>Faturamento >> Emiss&atilde;o de NFF &gt;&gt; <span id="titulo"></span> </u></div></td>
      <td width="13%" nowrap="nowrap" class="linhaHeader style5"><div align="right">Outra NFF: </div></td>
      <td width="14%" nowrap="nowrap" class="linhaHeader"><div align="right"><span id="outro_local" class="style5"><a href="">Cliente</a> <br />
            </span></div></td>
    </tr>
    <tr>
      <td align="left" valign="middle" colspan="3"><hr /></td>
    </tr>
</table>
<table width="60%" border="0" align="center" cellpadding="3" cellspacing="0"  class="texto">
	  
	  <tr>
		<td width="7%" nowrap="nowrap" class="textoDestacado">Ferrovia</td>
		<td width="93%"><select name="ferrovia" class="textoDestacado" style="width:30%" tabindex="2" onchange="escolherEstacoes(this,'estacao')">
          <option value="">Ferrovia</option>
          <option value="FCA">FCA</option>
          <option value="EFVM">EFVM</option>
          <option value="EFC">EFC</option>
        </select></td>
	  </tr>
	  <tr id="ln_cliente">
	    <td nowrap="nowrap" class="textoDestacado">Cliente</td>
	    <td><select id="cliente" name="select" class="textoDestacado" style="width:30%" tabindex="2" onchange="">
			<option selected="selected">Cliente</option>
        </select></td>
  </tr>
	  <tr>
		<td nowrap="nowrap" class="textoDestacado">Per&iacute;odo</td>
		<td><input name="textfield" type="text" size="15" maxlength="10" /> 
		  <span class="textoDestacado">&agrave; 
		  <input name="textfield2" type="text" size="15" maxlength="10" />
		  </span></td>
	  </tr>
	  
	  <tr id="ln_vencimento">
	
		<td class="textoDestacado">Data de Vencimento </td>
		<td><input name="textfield3" type="text" size="15" maxlength="10" /></td>
	  </tr>
	  <tr>
		<td colspan="2" nowrap="nowrap" class="textoDestacado">
			<fieldset><legend>Forma de Venda</legend>
			<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0">
              <tr>
                <td>
                  <div align="left">
                  <input type="checkbox" name="checkbox" value="checkbox" />
                Manual</div></td>
                <td>
                  <div align="left">
                  <input type="checkbox" name="checkbox2" value="checkbox" />
                ECF</div></td>
              </tr>
            </table>
			</fieldset>		</td>
	  </tr>
	  <tr>
		<td colspan="2" nowrap="nowrap" class="textoDestacado">&nbsp;
		  <table width="100%" border="0" cellspacing="2" cellpadding="2">
            <tr>
              <td width="50%" ><fieldset style="width:100%;height:200px;"><legend>Estação Origem</legend>
			  	<table cellpadding="0" cellspacing="0" width="100%" height="100%">
					<tr>
						<td style="height:180px">
							<div style="height:180px;overflow-y:auto;position:absolute">
							<table id="estacao" width="100%">
							</table>   												
							</div>						</td>
					</tr>
					<tr>
						<td style="border-top:1px solid #657d65"><input name="td_estacao" type="checkbox" value="" checked="checked" onclick="todosEstacao(this)"/>Todos</td>
			  		</tr>
				</table>
             

              </fieldset>			  </td>
              <td width="50%"><fieldset style="width:100%;height:200px;">
			  
                <legend>Passagem com Destino</legend>
			  	<table cellpadding="0" cellspacing="0" width="100%" height="100%">
					<tr>
						<td style="height:180px">
							<div style="height:180px;overflow-y:auto;position:absolute">
							<table id="uf" width="100%">
							</table>   												
							</div>						</td>
					</tr>
					<tr>
						<td style="border-top:1px solid #657d65"><input name="td_ufs" type="checkbox" value="" checked="checked" onclick="todosUf(this)"/>Todos</td>
			  		</tr>
				</table>
              </fieldset></td>
            </tr>
          </table></td>
	  </tr>
	  
	  <tr>
		<td colspan="2" nowrap="nowrap"><hr /></td>
	  </tr>
	  <tr>
		<td colspan="2" align="center" nowrap="nowrap"><img type="image" name="imageField" src="img/bt_executar.gif" onclick="alert('Processo finalizado com sucesso!'); return false;" />    </td>
	  </tr>
	  <tr>
		<td colspan="2" align="center" nowrap="nowrap"><hr /></td>
	  </tr>
	</table>
<div class="mandatoryCenter" id="detalhe2" onclick="ocultarDetalhe('detalhe2')" style="display:none;">
  <table width="97%" height="100%" border="0" cellpadding="0" cellspacing="0" onclick="ocultarDetalhe('detalhe2')">
    <tr class="linhaHeader">
      <td nowrap="nowrap"><div align="left"><strong>Descri&ccedil;&atilde;o</strong></div></td>
      <td nowrap="nowrap"><div align="center"><strong>QTD</strong></div></td>
      <td nowrap="nowrap"><div align="right"><strong>Valor Un. </strong></div></td>
      <td nowrap="nowrap"><div align="center"><strong>Total </strong></div></td>
    </tr>
    <tr>
      <td width="44%" nowrap="nowrap"><div align="left">Adulto</div></td>
      <td width="13%" nowrap="nowrap"><div align="center">2</div></td>
      <td width="23%" nowrap="nowrap"><div align="right">25,00 R$</div></td>
      <td width="20%" nowrap="nowrap"><div align="right">50,00 R$</div></td>
    </tr>
    <tr>
      <td nowrap="nowrap"><div align="left">Estudante</div></td>
      <td nowrap="nowrap"><div align="center">1</div></td>
      <td nowrap="nowrap"><div align="right">12,50 R$</div></td>
      <td nowrap="nowrap"><div align="right">12,50 R$</div></td>
    </tr>
    <tr>
      <td colspan="4" nowrap="nowrap"><hr /></td>
    </tr>
    <tr>
      <td colspan="3" nowrap="nowrap"><div align="left">Total</div></td>
      <td nowrap="nowrap"><div align="right">62,50 R$</div></td>
    </tr>
  </table>
</div>
<div class="mandatoryCenter" id="detalhe1" onclick="ocultarDetalhe('detalhe1')" style="display:none;">
  <table width="97%" height="100%" border="0" cellpadding="0" cellspacing="0" onclick="ocultarDetalhe('detalhe1')">
    <tr class="linhaHeader">
      <td nowrap="nowrap"><div align="left"><strong>Descri&ccedil;&atilde;o</strong></div></td>
      <td nowrap="nowrap"><div align="center"><strong>QTD</strong></div></td>
      <td nowrap="nowrap"><div align="right"><strong>Valor Un. </strong></div></td>
      <td nowrap="nowrap"><div align="center"><strong>Total </strong></div></td>
    </tr>
    <tr>
      <td width="44%" nowrap="nowrap"><div align="left">Adulto</div></td>
      <td width="13%" nowrap="nowrap"><div align="center">2</div></td>
      <td width="23%" nowrap="nowrap"><div align="right">17,50 R$</div></td>
      <td width="20%" nowrap="nowrap"><div align="right">35,00 R$</div></td>
    </tr>
    <tr>
      <td nowrap="nowrap"><div align="left">Estudante</div></td>
      <td nowrap="nowrap"><div align="center">1</div></td>
      <td nowrap="nowrap"><div align="right">8,75 R$</div></td>
      <td nowrap="nowrap"><div align="right">8,75 R$</div></td>
    </tr>
    <tr>
      <td colspan="4" nowrap="nowrap"><hr /></td>
    </tr>
    <tr>
      <td colspan="3" nowrap="nowrap"><div align="left">Total</div></td>
      <td nowrap="nowrap"><div align="right">43,75 R$</div></td>
    </tr>
  </table>
</div>

<script>
		var tipo_nota = window.location.search.substr(1);

		switch(tipo_nota){
			case '0':
				document.getElementById('titulo').innerHTML 		   = 'Estação'
				document.getElementById('outro_local').innerHTML 	   = '<a href="?1">Cliente</a>'							
				document.getElementById('ln_cliente').style.display    = 'none';	
				document.getElementById('ln_vencimento').style.display = 'none';					
				break;
			case '1':
				document.getElementById('titulo').innerHTML 		   = 'Cliente'
				document.getElementById('outro_local').innerHTML 	   = '<a href="?0">Estação</a>'	
				document.getElementById('ln_cliente').style.display    = 'inline';	
				document.getElementById('ln_vencimento').style.display = 'inline';								
				break;			
		}

</script>


</body>
</html>
